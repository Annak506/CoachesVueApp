{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?a454","webpack:///./src/pages/auth/UserAuth.vue?8a9a"],"names":["class","_createElementBlock","_createVNode","_component_base_dialog","show","$data","error","title","onClose","$options","handleError","_createElementVNode","_toDisplayString","isLoading","fixed","_component_base_spinner","_component_base_card","onSubmit","_cache","_withModifiers","args","submitForm","_hoisted_1","for","type","id","email","$event","trim","formIsValid","_hoisted_2","_hoisted_3","password","_component_base_button","submitButtonCaption","mode","onClick","switchAuthMode","switchModeButtonCaption","data","computed","this","methods","includes","length","actionPayload","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","err","message","__exports__","render"],"mappings":"kJAUyBA,MAAM,gB,aAKNA,MAAM,gB,qLAd3BC,eAsBM,YArBFC,eAEcC,EAAA,CAFAC,OAAQC,EAAAC,MAAOC,MAAM,oBAAqBC,QAAOC,EAAAC,a,wBAC3D,IAAmB,CAAnBC,eAAmB,SAAAC,eAAZP,EAAAC,OAAK,K,2BAEhBJ,eAEcC,EAAA,CAFAC,KAAMC,EAAAQ,UAAWN,MAAM,iBAAiBO,MAAA,I,wBAClD,IAA6B,CAA7BZ,eAA6Ba,K,iBAEjCb,eAcYc,EAAA,M,uBAbR,IAYO,CAZPL,eAYO,QAZAM,SAAMC,EAAA,KAAAA,EAAA,GAAAC,eAAA,IAAAC,IAAUX,EAAAY,YAAAZ,EAAAY,cAAAD,GAAU,e,CACzBT,eAGM,MAHNW,EAGM,C,YAFFX,eAAiC,SAA1BY,IAAI,SAAQ,UAAM,I,eACzBZ,eAAqD,SAA9Ca,KAAK,QAAQC,GAAG,Q,qCAAsBpB,EAAAqB,MAAKC,I,mBAALtB,EAAAqB,W,GAANE,MAAR,QAEzBvB,EAAAwB,Y,wCAAV5B,eAA2G,IAAA6B,EAApF,qFACvBnB,eAGM,MAHNoB,EAGM,C,YAFFpB,eAAsC,SAA/BY,IAAI,YAAW,YAAQ,I,eAC9BZ,eAA+D,SAAxDa,KAAK,WAAWC,GAAG,W,qCAAyBpB,EAAA2B,SAAQL,I,mBAARtB,EAAA2B,c,GAANJ,MAAR,QAEzC1B,eAAkD+B,EAAA,M,uBAArC,IAAuB,C,8BAArBxB,EAAAyB,qBAAmB,K,MAClChC,eAAwG+B,EAAA,CAA3FT,KAAK,SAASW,KAAK,OAAQC,QAAO3B,EAAA4B,gB,wBAAgB,IAA2B,C,8BAAzB5B,EAAA6B,yBAAuB,K,mCAO9F,OACVC,OACI,MAAM,CACFb,MAAO,GACPM,SAAU,GACVH,aAAa,EACbM,KAAM,QACNtB,WAAW,EACXP,MAAO,OAGfkC,SAAS,CACLN,sBACI,MAAiB,UAAdO,KAAKN,KACG,QAEA,UAGfG,0BACI,MAAkB,WAAdG,KAAKN,KACE,gBAEA,mBAInBO,QAAQ,CACL,mBAEK,GADAD,KAAKZ,aAAc,EACA,KAAfY,KAAKf,QAAiBe,KAAKf,MAAMiB,SAAS,MAAQF,KAAKT,SAASY,OAAS,EAEzE,YADAH,KAAKZ,aAAc,GAIvBY,KAAK5B,WAAY,EAEjB,MAAMgC,EAAgB,CAClBnB,MAAOe,KAAKf,MACZM,SAAUS,KAAKT,UAEnB,IAEiB,UAAdS,KAAKN,WACEM,KAAKK,OAAOC,SAAS,QACvBF,SAIEJ,KAAKK,OAAOC,SAAS,SACvBF,GAGR,MAAMG,EAAc,KAAOP,KAAKQ,OAAOC,MAAMC,UAAY,WACzDV,KAAKW,QAAQC,QAAQL,GACxB,MAAMM,GACHb,KAAKnC,MAAMgD,EAAIC,SAAW,qCAE1Bd,KAAK5B,WAAY,GAErBwB,iBACqB,UAAdI,KAAKN,KACJM,KAAKN,KAAK,SAGVM,KAAKN,KAAO,SAGpBzB,cACI+B,KAAKnC,MAAM,Q,iCCzFvB,MAAMkD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W","file":"js/chunk-297d9d90.602cfffe.js","sourcesContent":["<template>\n    <div>\n        <base-dialog :show=\"!!error\" title=\"An error occurred\" @close=\"handleError\">\n            <p> {{ error}} </p>\n        </base-dialog>\n        <base-dialog :show=\"isLoading\" title=\"Authenticating\" fixed>\n            <base-spinner></base-spinner>\n        </base-dialog>\n        <base-card>\n            <form @submit.prevent=\"submitForm\">\n                    <div class=\"form-control\">\n                        <label for=\"email\">E-mail</label>\n                        <input type=\"email\" id=\"email\" v-model.trim=\"email\"/>\n                    </div>\n                    <p v-if=\"!formIsValid\"> Please enter a valid email and password (must be at least six characters long) </p>\n                    <div class=\"form-control\">\n                        <label for=\"password\">Password</label>\n                        <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n                    </div>\n                    <base-button>{{submitButtonCaption}}</base-button>\n                    <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{switchModeButtonCaption}}</base-button>\n            </form>\n        </base-card>\n    </div>\n</template>\n\n<script>\nexport default{\n    data(){\n        return{\n            email: '',\n            password: '',\n            formIsValid: true,\n            mode: 'login',\n            isLoading: false,\n            error: null\n        };\n    },\n    computed:{\n        submitButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Login';\n            } else{\n                return 'Signup';\n            }\n        },\n        switchModeButtonCaption(){\n            if (this.mode === 'signup'){\n                return 'Login instead';\n            } else{\n                return 'Signup instead';\n            }\n        }\n    },\n    methods:{\n       async submitForm(){\n            this.formIsValid = true;\n            if (this.email === '' || !this.email.includes('@') || this.password.length < 6){\n                this.formIsValid = false;\n                return;\n            }\n\n            this.isLoading = true;\n\n            const actionPayload = {\n                email: this.email,\n                password: this.password\n            }\n            try{\n\n            if(this.mode === 'login'){\n                await this.$store.dispatch('login', \n                    actionPayload\n                )\n\n            } else{\n                await this.$store.dispatch('signup', \n                    actionPayload\n                );\n            }\n            const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n            this.$router.replace(redirectUrl);\n        }catch(err){\n            this.error=err.message || 'Failed to authenticate, try later.'\n        }\n            this.isLoading = false;\n        },\n        switchAuthMode(){\n            if(this.mode === 'login'){\n                this.mode='signup';\n            }\n            else{\n                this.mode = 'login';\n            }\n        },\n        handleError(){\n            this.error=null;\n        }\n    }\n}\n</script>\n\n\n<style scoped>\nform {\n  margin: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 12px;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>","import { render } from \"./UserAuth.vue?vue&type=template&id=c6504816&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=c6504816&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c6504816\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserAuth.vue?vue&type=style&index=0&id=c6504816&scoped=true&lang=css\""],"sourceRoot":""}
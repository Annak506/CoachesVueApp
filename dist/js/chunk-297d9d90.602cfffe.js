(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-297d9d90"],{"212c":function(t,e,i){"use strict";i.r(e);var o=i("7a23");const s={class:"form-control"},a={key:0},n={class:"form-control"};function r(t,e,i,r,c,d){const l=Object(o["C"])("base-dialog"),u=Object(o["C"])("base-spinner"),b=Object(o["C"])("base-button"),h=Object(o["C"])("base-card");return Object(o["w"])(),Object(o["h"])("div",null,[Object(o["k"])(l,{show:!!c.error,title:"An error occurred",onClose:d.handleError},{default:Object(o["L"])(()=>[Object(o["i"])("p",null,Object(o["G"])(c.error),1)]),_:1},8,["show","onClose"]),Object(o["k"])(l,{show:c.isLoading,title:"Authenticating",fixed:""},{default:Object(o["L"])(()=>[Object(o["k"])(u)]),_:1},8,["show"]),Object(o["k"])(h,null,{default:Object(o["L"])(()=>[Object(o["i"])("form",{onSubmit:e[2]||(e[2]=Object(o["N"])((...t)=>d.submitForm&&d.submitForm(...t),["prevent"]))},[Object(o["i"])("div",s,[e[3]||(e[3]=Object(o["i"])("label",{for:"email"},"E-mail",-1)),Object(o["M"])(Object(o["i"])("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>c.email=t)},null,512),[[o["J"],c.email,void 0,{trim:!0}]])]),c.formIsValid?Object(o["g"])("",!0):(Object(o["w"])(),Object(o["h"])("p",a," Please enter a valid email and password (must be at least six characters long) ")),Object(o["i"])("div",n,[e[4]||(e[4]=Object(o["i"])("label",{for:"password"},"Password",-1)),Object(o["M"])(Object(o["i"])("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>c.password=t)},null,512),[[o["J"],c.password,void 0,{trim:!0}]])]),Object(o["k"])(b,null,{default:Object(o["L"])(()=>[Object(o["j"])(Object(o["G"])(d.submitButtonCaption),1)]),_:1}),Object(o["k"])(b,{type:"button",mode:"flat",onClick:d.switchAuthMode},{default:Object(o["L"])(()=>[Object(o["j"])(Object(o["G"])(d.switchModeButtonCaption),1)]),_:1},8,["onClick"])],32)]),_:1})])}var c={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"signup"===this.mode?"Login instead":"Signup instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const e="/"+(this.$route.query.redirect||"coaches");this.$router.replace(e)}catch(e){this.error=e.message||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},d=(i("8e97"),i("6b0d")),l=i.n(d);const u=l()(c,[["render",r],["__scopeId","data-v-c6504816"]]);e["default"]=u},"8e97":function(t,e,i){"use strict";i("f5f9")},f5f9:function(t,e,i){}}]);
//# sourceMappingURL=chunk-297d9d90.602cfffe.js.map
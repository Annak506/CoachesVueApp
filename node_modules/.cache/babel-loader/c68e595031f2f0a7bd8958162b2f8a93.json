{"remainingRequest":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/babel-loader/lib/index.js!/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/src/pages/coaches/CoachesList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/src/pages/coaches/CoachesList.vue","mtime":1732777706609},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/babel.config.js","mtime":1598433744000},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js","mtime":1731913129120},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/babel-loader/lib/index.js","mtime":1731913127826},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js","mtime":1731913129120},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/vue-loader-v16/dist/index.js","mtime":1731913020485}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCBDb2FjaEl0ZW0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2FjaGVzL0NvYWNoSXRlbS52dWUnOwppbXBvcnQgQ29hY2hGaWx0ZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2FjaGVzL0NvYWNoRmlsdGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb2FjaEl0ZW0sCiAgICBDb2FjaEZpbHRlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBhY3RpdmVGaWx0ZXJzOiB7CiAgICAgICAgZnJvbnRlbmQ6IHRydWUsCiAgICAgICAgYmFja2VuZDogdHJ1ZSwKICAgICAgICBjYXJlZXI6IHRydWUKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc0F1dGhlbnRpY2F0ZWQ7CiAgICB9LAogICAgaXNDb2FjaCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvYWNoZXMvaXNDb2FjaCddOwogICAgfSwKICAgIGZpbHRlcmVkQ29hY2hlcygpIHsKICAgICAgY29uc3QgY29hY2hlcyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvYWNoZXMvY29hY2hlcyddOwogICAgICByZXR1cm4gY29hY2hlcy5maWx0ZXIoY29hY2ggPT4gewogICAgICAgIGlmICh0aGlzLmFjdGl2ZUZpbHRlcnMuZnJvbnRlbmQgJiYgY29hY2guYXJlYXMuaW5jbHVkZXMoJ2Zyb250ZW5kJykpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5hY3RpdmVGaWx0ZXJzLmJhY2tlbmQgJiYgY29hY2guYXJlYXMuaW5jbHVkZXMoJ2JhY2tlbmQnKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmFjdGl2ZUZpbHRlcnMuY2FyZWVyICYmIGNvYWNoLmFyZWFzLmluY2x1ZGVzKCdjYXJlZXInKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFzQ29hY2hlcygpIHsKICAgICAgcmV0dXJuICF0aGlzLmlzTG9hZGluZyAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjb2FjaGVzL2hhc0NvYWNoZXMnXTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRDb2FjaGVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRGaWx0ZXJzKHVwZGF0ZWRGaWx0ZXJzKSB7CiAgICAgIHRoaXMuYWN0aXZlRmlsdGVycyA9IHVwZGF0ZWRGaWx0ZXJzOwogICAgfSwKICAgIGFzeW5jIGxvYWRDb2FjaGVzKHJlZnJlc2ggPSBmYWxzZSkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjb2FjaGVzL2xvYWRDb2FjaGVzJywgewogICAgICAgICAgZm9yY2VSZWZyZXNoOiByZWZyZXNoCiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLm1lc3NhZ2UgfHwgJ1NvbWV0aGluZyB3ZW50IHdyb25nISc7CiAgICAgIH0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVFcnJvcigpIHsKICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CoachItem","CoachFilter","components","data","isLoading","error","activeFilters","frontend","backend","career","computed","isLoggedIn","$store","getters","isAuthenticated","isCoach","filteredCoaches","coaches","filter","coach","areas","includes","hasCoaches","created","loadCoaches","methods","setFilters","updatedFilters","refresh","dispatch","forceRefresh","message","handleError"],"sources":["/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/src/pages/coaches/CoachesList.vue"],"sourcesContent":["<template>\n    <div>\n        <base-dialog :show=\"!!error\" title=\"An error occured!\" @close=\"handleError\">\n            <p> {{ error }}</p>\n        </base-dialog>\n    <div>\n        <section>\n            <coach-filter @change-filter=\"setFilters\"></coach-filter>\n        </section>\n        <base-card>\n        <section>\n            <div class=\"controls\">\n                <base-button mode=\"outline\" @click=\"loadCoaches(true)\">Refresh</base-button> \n                <base-button link to=\"auth?redirect=register\" v-if=\"!isLoggedIn\"> Login to Register as Coach </base-button>\n                <base-button v-if=\"isLoggedIn && !isCoach && !isLoading\" link to=\"/register\">Register as a coach</base-button> \n\n            </div>\n            <div v-if=\"isLoading\">\n                <base-spinner></base-spinner>\n            </div>\n            <ul v-else-if=\"hasCoaches\"> \n            <coach-item v-for=\"coach in filteredCoaches\" :key=\"coach.id\" :id=\"coach.id\"\n            :first-name=\"coach.firstName\" :last-name=\"coach.lastName\" :rate=\"coach.hourlyRate\" :areas=\"coach.areas\"></coach-item>\n        </ul>\n        <h3 v-else>No coaches found.</h3>\n        </section>\n    </base-card>\n        \n    </div>\n</div>\n</template>\n\n<script>\nimport CoachItem from '../../components/coaches/CoachItem.vue';\nimport CoachFilter from '../../components/coaches/CoachFilter.vue';\n\nexport default{\n    components:{\n       CoachItem,\n       CoachFilter \n    },\n    data(){\n        return{\n            isLoading: false,\n            error: null,\n            activeFilters:{\n                frontend: true,\n                backend: true,\n                career:true\n            }\n        }\n    },\n    computed:{\n        isLoggedIn(){\n            return this.$store.getters.isAuthenticated;\n        },\n        isCoach(){\n            return this.$store.getters['coaches/isCoach'];\n        },\n        filteredCoaches(){\n            const coaches=this.$store.getters['coaches/coaches'];\n            return coaches.filter(coach => {\n                if (this.activeFilters.frontend && coach.areas.includes('frontend')){\n                    return true;\n                }\n                if (this.activeFilters.backend && coach.areas.includes('backend')){\n                    return true;\n                }\n                if (this.activeFilters.career && coach.areas.includes('career')){\n                    return true;\n                }\n                return false;\n            });\n        },\n        hasCoaches(){\n            return !this.isLoading && this.$store.getters['coaches/hasCoaches'];\n        },\n    },\n    created(){\n        this.loadCoaches();\n    },\n    methods:{\n        setFilters(updatedFilters){\nthis.activeFilters = updatedFilters;\n        },\n\n        async loadCoaches(refresh = false){\n            this.isLoading = true;\n            this.error = null;\n            try{\n            await this.$store.dispatch('coaches/loadCoaches', {forceRefresh: refresh });\n            }\n            catch (error){\n                this.error = error.message || 'Something went wrong!';\n        \n                \n            }\n            this.isLoading = false;\n        },\n        handleError(){\n            this.error = null;\n        }\n    },\n}\n</script>\n\n\n<style>\nul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.controls {\n  display: flex;\n  justify-content: space-between;\n}\n</style>"],"mappings":";;AAiCA,OAAOA,SAAQ,MAAO,wCAAwC;AAC9D,OAAOC,WAAU,MAAO,0CAA0C;AAElE,eAAc;EACVC,UAAU,EAAC;IACRF,SAAS;IACTC;EACH,CAAC;EACDE,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,IAAI;MACXC,aAAa,EAAC;QACVC,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,IAAI;QACbC,MAAM,EAAC;MACX;IACJ;EACJ,CAAC;EACDC,QAAQ,EAAC;IACLC,UAAUA,CAAA,EAAE;MACR,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,eAAe;IAC9C,CAAC;IACDC,OAAOA,CAAA,EAAE;MACL,OAAO,IAAI,CAACH,MAAM,CAACC,OAAO,CAAC,iBAAiB,CAAC;IACjD,CAAC;IACDG,eAAeA,CAAA,EAAE;MACb,MAAMC,OAAO,GAAC,IAAI,CAACL,MAAM,CAACC,OAAO,CAAC,iBAAiB,CAAC;MACpD,OAAOI,OAAO,CAACC,MAAM,CAACC,KAAI,IAAK;QAC3B,IAAI,IAAI,CAACb,aAAa,CAACC,QAAO,IAAKY,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAC;UAChE,OAAO,IAAI;QACf;QACA,IAAI,IAAI,CAACf,aAAa,CAACE,OAAM,IAAKW,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAC;UAC9D,OAAO,IAAI;QACf;QACA,IAAI,IAAI,CAACf,aAAa,CAACG,MAAK,IAAKU,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAC;UAC5D,OAAO,IAAI;QACf;QACA,OAAO,KAAK;MAChB,CAAC,CAAC;IACN,CAAC;IACDC,UAAUA,CAAA,EAAE;MACR,OAAO,CAAC,IAAI,CAAClB,SAAQ,IAAK,IAAI,CAACQ,MAAM,CAACC,OAAO,CAAC,oBAAoB,CAAC;IACvE;EACJ,CAAC;EACDU,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,WAAW,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAC;IACJC,UAAUA,CAACC,cAAc,EAAC;MAClC,IAAI,CAACrB,aAAY,GAAIqB,cAAc;IAC3B,CAAC;IAED,MAAMH,WAAWA,CAACI,OAAM,GAAI,KAAK,EAAC;MAC9B,IAAI,CAACxB,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACC,KAAI,GAAI,IAAI;MACjB,IAAG;QACH,MAAM,IAAI,CAACO,MAAM,CAACiB,QAAQ,CAAC,qBAAqB,EAAE;UAACC,YAAY,EAAEF;QAAQ,CAAC,CAAC;MAC3E,EACA,OAAOvB,KAAK,EAAC;QACT,IAAI,CAACA,KAAI,GAAIA,KAAK,CAAC0B,OAAM,IAAK,uBAAuB;MAGzD;MACA,IAAI,CAAC3B,SAAQ,GAAI,KAAK;IAC1B,CAAC;IACD4B,WAAWA,CAAA,EAAE;MACT,IAAI,CAAC3B,KAAI,GAAI,IAAI;IACrB;EACJ;AACJ","ignoreList":[]}]}
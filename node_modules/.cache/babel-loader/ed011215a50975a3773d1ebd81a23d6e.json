{"remainingRequest":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/babel-loader/lib/index.js!/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/src/pages/auth/UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/src/pages/auth/UserAuth.vue","mtime":1732777852354},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js","mtime":1731913129120},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/babel-loader/lib/index.js","mtime":1731913127826},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js","mtime":1731913129120},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/vue-loader-v16/dist/index.js","mtime":1731913020485},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/babel.config.js","mtime":1598433744000},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js","mtime":1731913129120},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/babel-loader/lib/index.js","mtime":1731913127826},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/cache-loader/dist/cjs.js","mtime":1731913129120},{"path":"/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/node_modules/vue-loader-v16/dist/index.js","mtime":1731913020485}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZm9ybUlzVmFsaWQ6IHRydWUsCiAgICAgIG1vZGU6ICdsb2dpbicsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Ym1pdEJ1dHRvbkNhcHRpb24oKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2dpbicpIHsKICAgICAgICByZXR1cm4gJ0xvZ2luJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ1NpZ251cCc7CiAgICAgIH0KICAgIH0sCiAgICBzd2l0Y2hNb2RlQnV0dG9uQ2FwdGlvbigpIHsKICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ3NpZ251cCcpIHsKICAgICAgICByZXR1cm4gJ0xvZ2luIGluc3RlYWQnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnU2lnbnVwIGluc3RlYWQnOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzdWJtaXRGb3JtKCkgewogICAgICB0aGlzLmZvcm1Jc1ZhbGlkID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMuZW1haWwgPT09ICcnIHx8ICF0aGlzLmVtYWlsLmluY2x1ZGVzKCdAJykgfHwgdGhpcy5wYXNzd29yZC5sZW5ndGggPCA2KSB7CiAgICAgICAgdGhpcy5mb3JtSXNWYWxpZCA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IGFjdGlvblBheWxvYWQgPSB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfTsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCBhY3Rpb25QYXlsb2FkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NpZ251cCcsIGFjdGlvblBheWxvYWQpOwogICAgICAgIH0KICAgICAgICBjb25zdCByZWRpcmVjdFVybCA9ICcvJyArICh0aGlzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdCB8fCAnY29hY2hlcycpOwogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHJlZGlyZWN0VXJsKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgdGhpcy5lcnJvciA9IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gYXV0aGVudGljYXRlLCB0cnkgbGF0ZXIuJzsKICAgICAgfQogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIHN3aXRjaEF1dGhNb2RlKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgdGhpcy5tb2RlID0gJ3NpZ251cCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tb2RlID0gJ2xvZ2luJzsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUVycm9yKCkgewogICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"names":["data","email","password","formIsValid","mode","isLoading","error","computed","submitButtonCaption","switchModeButtonCaption","methods","submitForm","includes","length","actionPayload","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","err","message","switchAuthMode","handleError"],"sources":["/Users/annakleinloog/Documents/IT/GitHub/CoachesVueApp/src/pages/auth/UserAuth.vue"],"sourcesContent":["<template>\n    <div>\n        <base-dialog :show=\"!!error\" title=\"An error occurred\" @close=\"handleError\">\n            <p> {{ error}} </p>\n        </base-dialog>\n        <base-dialog :show=\"isLoading\" title=\"Authenticating\" fixed>\n            <base-spinner></base-spinner>\n        </base-dialog>\n        <base-card>\n            <form @submit.prevent=\"submitForm\">\n                    <div class=\"form-control\">\n                        <label for=\"email\">E-mail</label>\n                        <input type=\"email\" id=\"email\" v-model.trim=\"email\"/>\n                    </div>\n                    <p v-if=\"!formIsValid\"> Please enter a valid email and password (must be at least six characters long) </p>\n                    <div class=\"form-control\">\n                        <label for=\"password\">Password</label>\n                        <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n                    </div>\n                    <base-button>{{submitButtonCaption}}</base-button>\n                    <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{switchModeButtonCaption}}</base-button>\n            </form>\n        </base-card>\n    </div>\n</template>\n\n<script>\nexport default{\n    data(){\n        return{\n            email: '',\n            password: '',\n            formIsValid: true,\n            mode: 'login',\n            isLoading: false,\n            error: null\n        };\n    },\n    computed:{\n        submitButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Login';\n            } else{\n                return 'Signup';\n            }\n        },\n        switchModeButtonCaption(){\n            if (this.mode === 'signup'){\n                return 'Login instead';\n            } else{\n                return 'Signup instead';\n            }\n        }\n    },\n    methods:{\n       async submitForm(){\n            this.formIsValid = true;\n            if (this.email === '' || !this.email.includes('@') || this.password.length < 6){\n                this.formIsValid = false;\n                return;\n            }\n\n            this.isLoading = true;\n\n            const actionPayload = {\n                email: this.email,\n                password: this.password\n            }\n            try{\n\n            if(this.mode === 'login'){\n                await this.$store.dispatch('login', \n                    actionPayload\n                )\n\n            } else{\n                await this.$store.dispatch('signup', \n                    actionPayload\n                );\n            }\n            const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n            this.$router.replace(redirectUrl);\n        }catch(err){\n            this.error=err.message || 'Failed to authenticate, try later.'\n        }\n            this.isLoading = false;\n        },\n        switchAuthMode(){\n            if(this.mode === 'login'){\n                this.mode='signup';\n            }\n            else{\n                this.mode = 'login';\n            }\n        },\n        handleError(){\n            this.error=null;\n        }\n    }\n}\n</script>\n\n\n<style scoped>\nform {\n  margin: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 12px;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>"],"mappings":"AA2BA,eAAc;EACVA,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE,OAAO;MACbC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;IACX,CAAC;EACL,CAAC;EACDC,QAAQ,EAAC;IACLC,mBAAmBA,CAAA,EAAE;MACjB,IAAG,IAAI,CAACJ,IAAG,KAAM,OAAO,EAAC;QACrB,OAAO,OAAO;MAClB,OAAM;QACF,OAAO,QAAQ;MACnB;IACJ,CAAC;IACDK,uBAAuBA,CAAA,EAAE;MACrB,IAAI,IAAI,CAACL,IAAG,KAAM,QAAQ,EAAC;QACvB,OAAO,eAAe;MAC1B,OAAM;QACF,OAAO,gBAAgB;MAC3B;IACJ;EACJ,CAAC;EACDM,OAAO,EAAC;IACL,MAAMC,UAAUA,CAAA,EAAE;MACb,IAAI,CAACR,WAAU,GAAI,IAAI;MACvB,IAAI,IAAI,CAACF,KAAI,KAAM,EAAC,IAAK,CAAC,IAAI,CAACA,KAAK,CAACW,QAAQ,CAAC,GAAG,KAAK,IAAI,CAACV,QAAQ,CAACW,MAAK,GAAI,CAAC,EAAC;QAC3E,IAAI,CAACV,WAAU,GAAI,KAAK;QACxB;MACJ;MAEA,IAAI,CAACE,SAAQ,GAAI,IAAI;MAErB,MAAMS,aAAY,GAAI;QAClBb,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,QAAQ,EAAE,IAAI,CAACA;MACnB;MACA,IAAG;QAEH,IAAG,IAAI,CAACE,IAAG,KAAM,OAAO,EAAC;UACrB,MAAM,IAAI,CAACW,MAAM,CAACC,QAAQ,CAAC,OAAO,EAC9BF,aACJ;QAEJ,OAAM;UACF,MAAM,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,QAAQ,EAC/BF,aACJ,CAAC;QACL;QACA,MAAMG,WAAU,GAAI,GAAE,IAAK,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,QAAO,IAAK,SAAS,CAAC;QACnE,IAAI,CAACC,OAAO,CAACC,OAAO,CAACL,WAAW,CAAC;MACrC,CAAC,QAAMM,GAAG,EAAC;QACP,IAAI,CAACjB,KAAK,GAACiB,GAAG,CAACC,OAAM,IAAK,oCAAmC;MACjE;MACI,IAAI,CAACnB,SAAQ,GAAI,KAAK;IAC1B,CAAC;IACDoB,cAAcA,CAAA,EAAE;MACZ,IAAG,IAAI,CAACrB,IAAG,KAAM,OAAO,EAAC;QACrB,IAAI,CAACA,IAAI,GAAC,QAAQ;MACtB,OACI;QACA,IAAI,CAACA,IAAG,GAAI,OAAO;MACvB;IACJ,CAAC;IACDsB,WAAWA,CAAA,EAAE;MACT,IAAI,CAACpB,KAAK,GAAC,IAAI;IACnB;EACJ;AACJ","ignoreList":[]}]}